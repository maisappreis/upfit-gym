import{s as $,D as X,c as p,I as G,d as g,e as d,f as r,F as I,B as C,U as P,l as i,M as b,x as m,m as E,_ as M,h as D,W as R,p as L,n as K,y as U,P as J,z as y,X as A,v as Q,o as z,H as Y,w as Z,g as f,O as j,j as N}from"./index-CNMUdzAR.js";import{h as x}from"./dataUtils-D26YddNY.js";function He(){const o=$(null),s=X(null),n=$(!1),t=p(()=>o.value!==null),a=p(()=>o.value==="create"||o.value==="update"),e=p(()=>o.value==="delete");return{mode:o,entity:s,deleteIsBlocked:n,isOpen:t,isForm:a,isDelete:e,openCreate:()=>{o.value="create",s.value=null},openUpdate:V=>{o.value="update",s.value=V},openDelete:(V,T=!1)=>{o.value="delete",s.value=V,n.value=T},close:()=>{o.value=null,s.value=null,n.value=!1}}}function Oe(){const o=$(null),s=$({});return{hoveredId:o,refsMap:s,setRef:(t,a)=>{a&&"$el"in a?s.value[t]=a.$el:s.value[t]=a}}}function We(o,s){const n=$(30),t=$(1),a=p(()=>{const e=x(o(),s()),l=(t.value-1)*n.value,u=l+n.value;return e.slice(l,u)});return G([o,s,n],()=>{t.value=1}),{itemsPerPage:n,currentPage:t,paginatedData:a}}const ee={class:"table-wrapper"},te={class:"table-overflow"},ae={class:"table-area"},oe=g({__name:"BaseTable",props:{data:{},columns:{},rowKey:{}},setup(o){const s=o,n=(t,a)=>s.rowKey&&t[s.rowKey]!==void 0?t[s.rowKey]:a;return(t,a)=>(i(),d("div",ee,[r("div",te,[r("table",ae,[r("thead",null,[r("tr",null,[(i(!0),d(I,null,C(t.columns,e=>(i(),d("th",{key:e.key,class:b(e.thClass)},m(e.label),3))),128))])]),r("tbody",null,[(i(!0),d(I,null,C(t.data,(e,l)=>(i(),d("tr",{key:n(e,l)},[(i(!0),d(I,null,C(t.columns,u=>(i(),d("td",{key:u.key,class:b(u.tdClass)},[P(t.$slots,`cell-${u.key}`,{row:e,value:e[u.key],index:l},()=>[E(m(e[u.key]),1)],!0)],2))),128))]))),128))])])]),P(t.$slots,"footer",{},void 0,!0)]))}}),Xe=M(oe,[["__scopeId","data-v-50e59990"]]),k=o=>(L("data-v-4991f95a"),o=o(),K(),o),se={class:"pagination-area",role:"navigation","aria-label":"Pagination"},ne={class:"pagination-items"},le=["disabled"],re=["disabled"],ie=["onClick","aria-label","aria-current"],ue=["disabled"],de=["disabled"],ce=k(()=>r("option",{value:5},"5",-1)),pe=k(()=>r("option",{value:10},"10",-1)),ve=k(()=>r("option",{value:15},"15",-1)),me=k(()=>r("option",{value:20},"20",-1)),_e=k(()=>r("option",{value:25},"25",-1)),fe=k(()=>r("option",{value:30},"30",-1)),ge=k(()=>r("option",{value:50},"50",-1)),he=[ce,pe,ve,me,_e,fe,ge],be={class:"pagination-items"},Pe=g({__name:"PaginationTable",props:{currentPage:{},itemsPerPage:{},totalItems:{}},emits:["update:currentPage","update:itemsPerPage"],setup(o,{emit:s}){const n=s,t=o,a=p(()=>Math.max(1,Math.ceil(t.totalItems/t.itemsPerPage))),e=p(()=>t.currentPage===1),l=p(()=>t.currentPage===a.value),u=p({get:()=>t.itemsPerPage,set:_=>n("update:itemsPerPage",_)}),h=p(()=>{const S=Math.max(1,t.currentPage-2),v=Math.min(a.value,t.currentPage+2),w=[];for(let B=S;B<=v;B++)w.push(B);return w}),c=_=>{n("update:currentPage",_)},V=()=>{n("update:currentPage",1)},T=()=>{n("update:currentPage",a.value)},O=()=>{e.value||n("update:currentPage",t.currentPage-1)},W=()=>{l.value||n("update:currentPage",t.currentPage+1)};return(_,S)=>(i(),d("div",se,[r("span",ne," Página "+m(_.currentPage)+" de "+m(a.value),1),r("button",{class:b(["pagination-button",{inactive:e.value}]),"aria-label":"Primeira página",onClick:V,disabled:e.value}," «« ",10,le),r("button",{class:b(["pagination-button",{inactive:e.value}]),"aria-label":"Página anterior",onClick:O,disabled:e.value}," « ",10,re),(i(!0),d(I,null,C(h.value,v=>(i(),d("button",{key:v,class:b(["pagination-button",{active:v===_.currentPage}]),onClick:w=>c(v),"aria-label":`Página ${v}`,"aria-current":v===_.currentPage?"page":void 0},m(v),11,ie))),128)),r("button",{class:b(["pagination-button",{inactive:l.value}]),"aria-label":"Próxima página",onClick:W,disabled:l.value}," » ",10,ue),r("button",{class:b(["pagination-button",{inactive:l.value}]),"aria-label":"Última página",onClick:T,disabled:l.value}," »» ",10,de),D(r("select",{"onUpdate:modelValue":S[0]||(S[0]=v=>u.value=v)},he,512),[[R,u.value]]),r("span",be," Total de "+m(_.totalItems)+" itens ",1)]))}}),Ge=M(Pe,[["__scopeId","data-v-4991f95a"]]),ye=g({__name:"TooltipModal",props:{anchor:{},visible:{type:Boolean},offset:{default:8}},setup(o){const s=o,n=p(()=>s.anchor?Array.isArray(s.anchor)?s.anchor[0]??null:s.anchor:null),t=p(()=>{const a=n.value;if(!a||!(a instanceof HTMLElement))return{};const e=a.getBoundingClientRect();return{position:"fixed",top:`${e.bottom+s.offset}px`,left:`${e.left}px`}});return(a,e)=>(i(),U(A,{to:"body"},[a.visible&&a.anchor?(i(),d("div",{key:0,class:"tooltip",style:J(t.value),role:"tooltip"},[P(a.$slots,"default",{},void 0,!0)],4)):y("",!0)]))}}),Je=M(ye,[["__scopeId","data-v-83441c3f"]]),$e=["placeholder"],ke=g({__name:"SearchFilter",props:{modelValue:{},placeholder:{default:"Pesquisar..."}},emits:["update:modelValue"],setup(o,{emit:s}){const n=o,t=s,a=p({get:()=>(n.modelValue??[]).join(", "),set:e=>{const l=e.split(",").map(u=>u.trim()).filter(Boolean);t("update:modelValue",l)}});return(e,l)=>D((i(),d("input",{class:"form-input ml-input search-area",type:"text",placeholder:e.placeholder,"onUpdate:modelValue":l[0]||(l[0]=u=>a.value=u)},null,8,$e)),[[Q,a.value]])}}),Qe=M(ke,[["__scopeId","data-v-90fc334c"]]),Ve=o=>(L("data-v-3d8c590b"),o=o(),K(),o),Ie={class:"modal",role:"dialog","aria-modal":"true"},Ce={key:0,class:"modal-header"},Me=Ve(()=>r("div",{class:"divider"},null,-1)),Se={class:"modal-body"},Te={key:1,class:"modal-footer"},we=g({__name:"ModalCard",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:s}){const n=s,t=()=>{n("update:modelValue",!1)},a=e=>{e.key==="Escape"&&t()};return z(()=>{window.addEventListener("keydown",a)}),Y(()=>{window.removeEventListener("keydown",a)}),(e,l)=>(i(),U(A,{to:"body"},[e.modelValue?(i(),d("div",{key:0,class:"overlay",onClick:Z(t,["self"])},[r("div",Ie,[e.$slots.header?(i(),d("header",Ce,[P(e.$slots,"header",{},void 0,!0)])):y("",!0),Me,r("section",Se,[P(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?(i(),d("footer",Te,[P(e.$slots,"footer",{},void 0,!0)])):y("",!0)])])):y("",!0)]))}}),Ye=M(we,[["__scopeId","data-v-3d8c590b"]]);function q(o,{emit:s}){return{updateValue:t=>{const a=t.target;let e=a.value;a.type==="checkbox"&&(e=a.checked),a.type==="radio"&&(e=a.value),s("update:modelValue",e)}}}let F=1;function H(){return{getID:()=>(F++,F)}}const Be=["id"],De=g({__name:"BaseErrorMessage",props:{id:{}},setup(o){return(s,n)=>(i(),d("p",{"aria-live":"assertive",class:"errorMessage",id:s.id},[P(s.$slots,"default")],8,Be))}}),Ue={class:"form-item"},Fe=["for"],Ee=["id","value","aria-describedby","aria-invalid"],Ze=g({__name:"BaseInput",props:{label:{},error:{},modelValue:{}},emits:["update:modelValue"],setup(o,{expose:s,emit:n}){const t=o,a=n,e=$(null),l=()=>{var c;return(c=e.value)==null?void 0:c.focus()},{updateValue:u}=q(t,{emit:a}),h=H().getID();return s({focus:l}),(c,V)=>(i(),d(I,null,[r("div",Ue,[c.label?(i(),d("label",{key:0,for:String(f(h)),class:"form-label"},m(c.label)+": ",9,Fe)):y("",!0),r("input",j({class:"form-input"},{...c.$attrs,onInput:f(u)},{id:String(f(h)),value:c.modelValue,"aria-describedby":c.error?`${String(f(h))}-error`:void 0,"aria-invalid":!!c.error,class:{error:c.error},ref_key:"inputRef",ref:e}),null,16,Ee)]),c.error?(i(),U(De,{key:0,id:`${String(f(h))}-error`},{default:N(()=>[E(m(c.error),1)]),_:1},8,["id"])):y("",!0)],64))}}),Re={class:"form-item"},Le=["for"],Ke=["id","value","aria-describedby","aria-invalid"],Ne=g({__name:"BaseTextarea",props:{label:{},error:{},modelValue:{}},emits:["update:modelValue"],setup(o,{emit:s}){const n=o,t=s,{updateValue:a}=q(n,{emit:t}),e=H().getID();return(l,u)=>(i(),d("div",Re,[l.label?(i(),d("label",{key:0,for:String(f(e)),class:"form-label"},m(l.label)+": ",9,Le)):y("",!0),r("textarea",j({class:"form-textarea"},{...l.$attrs,onInput:f(a)},{id:String(f(e)),value:l.modelValue,"aria-describedby":l.error?`${String(f(e))}-error`:void 0,"aria-invalid":!!l.error,class:{error:l.error}}),`\r
    `,16,Ke)]))}}),Ae={class:"flex"},ze=["value"],xe=g({__name:"StatusFilter",props:{modelValue:{},options:{},defaultValue:{}},emits:["update:modelValue"],setup(o,{emit:s}){const n=o,t=s,a=p({get:()=>n.modelValue??n.defaultValue,set:e=>t("update:modelValue",e)});return z(()=>{n.modelValue||t("update:modelValue",n.defaultValue)}),(e,l)=>(i(),d("div",Ae,[D(r("select",{class:"form-select ml-input","onUpdate:modelValue":l[0]||(l[0]=u=>a.value=u),name:"status"},[(i(!0),d(I,null,C(e.options,u=>(i(),d("option",{key:u,value:u},m(u),9,ze))),128))],512),[[R,a.value]])]))}});export{Xe as B,Ye as M,Ge as P,Qe as S,Je as T,De as _,We as a,H as b,Ze as c,Ne as d,He as e,xe as f,q as s,Oe as u};
